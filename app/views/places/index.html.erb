<% @user = User.find_by({ "id" => session["user_id"] }) %>

<% if @user == nil %>
  <div class="alert alert-warning mt-4" role="alert">
    You must first <a href="/login" class="alert-link">login</a> to see places in the travel log.
  </div>
<% else %>
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h1 class="fs-2 mb-0">Places You've Visited</h1>
      <a href="/places/new" class="btn btn-success">
        <span class="fw-bold me-1 text-white">+</span> Add a New Place
      </a>
    </div>

  <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
    <% for place in @places %>
      <div class="col">
        <div class="card shadow-sm h-100 bg-light border-0">
          <div class="card-body d-flex flex-column justify-content-between">
            <h5 class="card-title text-dark fw-semibold">
              <%= place["name"] %>
            </h5>
            <a href="/places/<%= place["id"] %>" class="btn btn-outline-primary mt-3">View Entries</a>
          </div>
        </div>
      </div>
    <% end %>
  </div>

<% end %>




